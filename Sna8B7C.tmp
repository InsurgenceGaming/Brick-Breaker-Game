[gd_scene load_steps=18 format=3 uid="uid://bdunmcx33xecr"]

[ext_resource type="Script" path="res://scripts/GameManager.gd" id="1_rbcb8"]
[ext_resource type="Script" path="res://scripts/Player.gd" id="5_etkrs"]
[ext_resource type="PackedScene" uid="uid://6jcdjtkjriy1" path="res://Scenes/ball.tscn" id="6_xg7su"]
[ext_resource type="Script" path="res://scripts/Floor.gd" id="7_3s2dd"]
[ext_resource type="AudioStream" uid="uid://bjodak6kents" path="res://Audio/Aqua - Barbie Girl (Official Music Video).wav" id="7_4a43u"]
[ext_resource type="PackedScene" uid="uid://cds23kligmn8n" path="res://Scenes/Powerups/Cannon_powerup.tscn" id="7_8v4mj"]
[ext_resource type="Script" path="res://DynamicBricks.gd" id="7_cxw8u"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_ui0ej"]
size = Vector2(1152, 2)

[sub_resource type="BoxMesh" id="BoxMesh_ogjr1"]
size = Vector3(1156, 2, 1)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_rmlc7"]
size = Vector2(2, 650)

[sub_resource type="BoxMesh" id="BoxMesh_4pt7s"]
size = Vector3(2, 652, 1)

[sub_resource type="BoxMesh" id="BoxMesh_rog0c"]
size = Vector3(2, 652, 1)

[sub_resource type="BoxMesh" id="BoxMesh_xcupx"]
size = Vector3(136, 12, 1)

[sub_resource type="CapsuleShape2D" id="CapsuleShape2D_ky0u8"]
radius = 6.0
height = 136.0

[sub_resource type="BoxMesh" id="BoxMesh_2pgs3"]
size = Vector3(1156, 2, 1)

[sub_resource type="LabelSettings" id="LabelSettings_ita7y"]
font_size = 32
font_color = Color(0, 1, 1, 1)
outline_size = 6
outline_color = Color(0, 0, 0, 1)
shadow_size = 12
shadow_color = Color(0.737255, 0, 0, 1)

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_pkopy"]
bg_color = Color(0.176471, 0.176471, 0.176471, 1)
corner_radius_top_left = 3
corner_radius_top_right = 3
corner_radius_bottom_right = 3
corner_radius_bottom_left = 3

[node name="Node2D" type="Node2D"]
script = ExtResource("1_rbcb8")

[node name="Camera2D" type="Camera2D" parent="."]

[node name="Ball" parent="." instance=ExtResource("6_xg7su")]
position = Vector2(0, 282)
wall_min_slide_angle = 0.0
platform_on_leave = 1

[node name="Barriers" type="StaticBody2D" parent="."]

[node name="Floor" type="Area2D" parent="Barriers" node_paths=PackedStringArray("Player_paddle")]
position = Vector2(0, 325)
collision_layer = 3
collision_mask = 3
script = ExtResource("7_3s2dd")
Player_paddle = NodePath("../../Player")

[node name="Floor" type="CollisionShape2D" parent="Barriers/Floor"]
rotation = -3.14159
shape = SubResource("RectangleShape2D_ui0ej")

[node name="MeshInstance2D" type="MeshInstance2D" parent="Barriers/Floor/Floor"]
mesh = SubResource("BoxMesh_ogjr1")

[node name="LeftWall" type="CollisionShape2D" parent="Barriers"]
position = Vector2(-577, 0)
shape = SubResource("RectangleShape2D_rmlc7")

[node name="MeshInstance2D" type="MeshInstance2D" parent="Barriers/LeftWall"]
position = Vector2(2.5332e-06, 9.53674e-06)
mesh = SubResource("BoxMesh_4pt7s")

[node name="RightWall" type="CollisionShape2D" parent="Barriers"]
position = Vector2(577, 0)
shape = SubResource("RectangleShape2D_rmlc7")

[node name="MeshInstance2D" type="MeshInstance2D" parent="Barriers/RightWall"]
position = Vector2(7.62939e-06, 0)
mesh = SubResource("BoxMesh_rog0c")

[node name="Player" type="CharacterBody2D" parent="." node_paths=PackedStringArray("RestartButton", "MainMenuButton", "RestartLevel", "Lives_HUD", "camera") groups=["paddle"]]
position = Vector2(0, 300)
collision_mask = 2
motion_mode = 1
wall_min_slide_angle = 0.0
platform_floor_layers = 0
script = ExtResource("5_etkrs")
RestartButton = NodePath("../Quit")
MainMenuButton = NodePath("../Main Menu")
RestartLevel = NodePath("../Restart")
Lives_HUD = NodePath("../Lives")
camera = NodePath("../Camera2D")
new_ball = ExtResource("6_xg7su")

[node name="MeshInstance2D" type="MeshInstance2D" parent="Player"]
mesh = SubResource("BoxMesh_xcupx")

[node name="CollisionShape2D" type="CollisionShape2D" parent="Player"]
rotation = 1.5708
shape = SubResource("CapsuleShape2D_ky0u8")

[node name="ROOF" type="StaticBody2D" parent="."]
position = Vector2(0, -325)

[node name="ROOF" type="CollisionShape2D" parent="ROOF"]
shape = SubResource("RectangleShape2D_ui0ej")

[node name="MeshInstance2D" type="MeshInstance2D" parent="ROOF/ROOF"]
mesh = SubResource("BoxMesh_2pgs3")

[node name="AudioStreamPlayer" type="AudioStreamPlayer" parent="."]
stream = ExtResource("7_4a43u")
autoplay = true
bus = &"Music"

[node name="DynamicBricks" type="Node2D" parent="." node_paths=PackedStringArray("Stage_Label")]
position = Vector2(-523, -283)
script = ExtResource("7_cxw8u")
Stage_Label = NodePath("../Stage")

[node name="Lives" type="Label" parent="."]
offset_left = -574.0
offset_top = -329.0
offset_right = -462.0
offset_bottom = -284.0
text = "Lives: 0"
label_settings = SubResource("LabelSettings_ita7y")

[node name="Cannon_powerup" parent="." instance=ExtResource("7_8v4mj")]
position = Vector2(-28, 257)

[node name="Stage" type="Label" parent="."]
self_modulate = Color(1, 1, 1, 0)
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
offset_left = -123.0
offset_top = -77.0
offset_right = 119.0
offset_bottom = 79.0
grow_horizontal = 2
grow_vertical = 2
size_flags_horizontal = 3
size_flags_vertical = 3
theme_override_font_sizes/font_size = 150
text = "STAGE: "
horizontal_alignment = 1
vertical_alignment = 1

[node name="Quit" type="Button" parent="."]
offset_left = 600.0
offset_top = 158.0
offset_right = 672.848
offset_bottom = 189.0
theme_override_colors/font_disabled_color = Color(0.866667, 0.866667, 0.866667, 1)
theme_override_styles/disabled = SubResource("StyleBoxFlat_pkopy")
text = "Quit
"

[node name="Main Menu" type="Button" parent="."]
offset_left = 587.0
offset_top = 123.0
offset_right = 683.0
offset_bottom = 154.0
theme_override_colors/font_disabled_color = Color(0.866667, 0.866667, 0.866667, 1)
theme_override_styles/disabled = SubResource("StyleBoxFlat_pkopy")
text = "Main Menu
"

[node name="Restart" type="Button" parent="."]
offset_left = 586.0
offset_top = 88.0
offset_right = 682.0
offset_bottom = 119.0
theme_override_colors/font_disabled_color = Color(0.866667, 0.866667, 0.866667, 1)
theme_override_styles/disabled = SubResource("StyleBoxFlat_pkopy")
text = "Restart
"

[connection signal="area_shape_entered" from="Barriers/Floor" to="Barriers/Floor" method="_on_area_shape_entered"]
[connection signal="body_entered" from="Barriers/Floor" to="Barriers/Floor" method="_on_body_entered"]
[connection signal="pressed" from="Quit" to="Player" method="_on_back_pressed"]
[connection signal="pressed" from="Main Menu" to="Player" method="_on_main_menu_pressed"]
